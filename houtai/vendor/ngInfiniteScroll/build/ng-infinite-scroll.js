!function(n,e){if("function"==typeof define&&define.amd)define(["module","exports","angular"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"));else{var t={exports:{}};e(t,t.exports,n.angular),n.infiniteScroll=t.exports}}(this,function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(n){return n&&n.__esModule?n:{default:n}}(t);i.default.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(n,e,t,l){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(o,c,r){function u(n){var e=n[0]||n;return isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function f(n){var e=n[0]||n;return isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function a(n){if(n[0].getBoundingClientRect&&!n.css("none"))return n[0].getBoundingClientRect().top+f(n)}function d(){var e=void 0,i=void 0;if(T===h)e=u(T)+f(T[0].document.documentElement),i=a(c)+u(c);else{e=u(T);var l=0;void 0!==a(T)&&(l=a(T)),i=a(c)-l+u(c)}C&&(i=u((c[0].ownerDocument||c[0].document).documentElement)),i-e<=u(T)*w+1?(E=!0,D&&(o.$$phase||n.$$phase?o.infiniteScroll():o.$apply(o.infiniteScroll))):(b&&t.cancel(b),E=!1)}function s(){T.unbind("scroll",x),null!=L&&(L(),L=null),b&&t.cancel(b)}function m(n){w=parseFloat(n)||0}function S(n){(D=!n)&&E&&(E=!1,x())}function p(n){C=n}function v(n){null!=T&&T.unbind("scroll",x),T=n,null!=n&&T.bind("scroll",x)}function g(n){if(null!=n&&0!==n.length){var e=void 0;if(null==(e=n.nodeType&&1===n.nodeType?i.default.element(n):"function"==typeof n.append?i.default.element(n[n.length-1]):"string"==typeof n?i.default.element(document.querySelector(n)):n))throw new Error("invalid infinite-scroll-container attribute.");v(e)}}function $(){return y&&x(),t.cancel(b)}var h=i.default.element(e),w=null,D=null,E=null,T=null,y=!0,C=!1,L=null,b=!1,x=null!=l?function(n,e){function i(){return c=(new Date).getTime(),t.cancel(o),o=null,n.call()}function l(){var l=(new Date).getTime(),r=e-(l-c);r<=0?(t.cancel(o),o=null,c=l,n.call()):o||(o=t(i,r,1))}var o=null,c=0;return l}(d,l):d;return o.$on("$destroy",s),o.$watch("infiniteScrollDistance",m),m(o.infiniteScrollDistance),o.$watch("infiniteScrollDisabled",S),S(o.infiniteScrollDisabled),o.$watch("infiniteScrollUseDocumentBottom",p),p(o.infiniteScrollUseDocumentBottom),v(h),o.infiniteScrollListenForEvent&&(L=n.$on(o.infiniteScrollListenForEvent,x)),o.$watch("infiniteScrollContainer",g),g(o.infiniteScrollContainer||[]),null!=r.infiniteScrollParent&&v(i.default.element(c.parent())),null!=r.infiniteScrollImmediateCheck&&(y=o.$eval(r.infiniteScrollImmediateCheck)),b=t($)}}}]),e.default="infinite-scroll",n.exports=e.default});